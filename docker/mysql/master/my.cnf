[mysqld]
# 服务器 ID，主库必须唯一
server-id=1

# 启用二进制日志
log-bin=mysql-bin

# 二进制日志格式（ROW 模式更安全）
binlog-format=ROW

# 需要同步的数据库（可选，不指定则同步所有）
# binlog-do-db=order_db
# binlog-do-db=product_db

# 不需要同步的数据库
binlog-ignore-db=mysql
binlog-ignore-db=information_schema
binlog-ignore-db=performance_schema
binlog-ignore-db=sys

# 二进制日志过期时间（天）
expire_logs_days=7

# 最大二进制日志大小
max_binlog_size=100M

# 字符集
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# 时区
default-time-zone='+08:00'

# 性能优化
max_connections=1000
innodb_buffer_pool_size=256M
innodb_log_file_size=64M
innodb_flush_log_at_trx_commit=1
sync_binlog=1
